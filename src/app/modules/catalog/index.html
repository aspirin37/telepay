<div class="container py-3 pt-4 pt-md-3 px-2 px-md-0">
    <!-- <transition name="fade-3">
        <div class="search-overlay"
             v-show="isSearching"></div>
    </transition> -->
    <div class="d-md-flex flex-row row">
        <h1 class="d-none d-md-block col-2 order-first">Каталог</h1>
        <div class="d-flex col-md-6 mb-4 pl-md-1">
            <div class="col-6 col-md-8 px-1"
                 :class="{'col-12': isSearching && isMobile}">
                <search-input-ok :text="filter.text"
                                 @input="filter.text = $event"
                                 placeholderMobile="Поиск"
                                 placeholder="Поиск по каталогу" />
            </div>
            <div class="col-6 col-md-4 px-1"
                 :class="{'d-none': isSearching && isMobile}">
                <router-link class="btn btn-block"
                             :class="selectedChannels.length?'btn-success':'btn-primary'"
                             :to="{ name: 'posts:create' }">{{selectedChannels.length?'Разместить':'Новый'}} пост</router-link>
                <span class="drop-selected-btn btn-link"
                      @click="dropSelected"
                      v-if="selectedChannels.length">Сбросить выбор</span>
            </div>
        </div>
        <div class="col-md-4 mb-4 pl-md-4 pr-md-1"
             :class="{'order-first': isDesktop, 'px-1': isMobile}">
            <div class="col-12"
                 :class="{'px-0': isDesktop}">
                <search-input v-model="filter.category"
                              placeholder="Выберите категорию"
                              :options="categories" /> </div>
        </div>
    </div>
    <div class="d-flex flex-row mb-4"
         :class="{'row': isDesktop}">
        <h5 class="col-6 col-md-2"
            :class="{'px-1': isMobile}">
            Активных каналов
            <br> в сервисе: {{totalChannels}}
        </h5>
        <div class="col-6 col-md-2 offset-md-8 pl-md-0 text-left"
             :class="{'px-1': isMobile}">
            <div class="btn btn-link px-0 mb-3 text-dark"
                 :class="{'float-right': isMobile}"
                 @click="toggleFilters">
                <i class="fa mr-2"
                   :class="showFilters?'fa-chevron-down':'fa-chevron-up'"></i> Фильтры </div>
            <h3 class="mb-0">
                <small>Стоимость: </small> {{totalPrice|centToRub}} </h3>
        </div>
    </div>
    <transition name="fade">
        <div v-show="showFilters">
            <div class="catalog-filters col-12 col-md-8 offset-md-2 px-0 mb-4"
                 :class="{'px-1': isMobile}">
                <div class="col-12 col-md-6 pr-md-1 mb-1"
                     :class="{'px-0': isMobile}">
                    <label class="col-form-label search__label">Участников</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">от</span>
                        </div>
                        <input v-model="filter.subscribersFrom"
                               type="number"
                               min="0"
                               class="form-control form-control-prepend">
                        <div class="input-group-prepend">
                            <span class="input-group-text">до</span>
                        </div>
                        <input v-model="filter.subscribersTo"
                               type="number"
                               min="0"
                               class="form-control"> </div>
                </div>
                <div class="col-12 col-md-6 px-md-1 mb-1"
                     :class="{'px-0': isMobile}">
                    <label class="col-form-label search__label">Цена (руб)</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">от</span>
                        </div>
                        <input v-model="filter.priceFrom"
                               type="number"
                               min="0"
                               class="form-control form-control-prepend">
                        <div class="input-group-prepend">
                            <span class="input-group-text">до</span>
                        </div>
                        <input v-model="filter.priceTo"
                               type="number"
                               min="0"
                               class="form-control"> </div>
                </div>
                <div class="col-12 col-md-6 pr-md-1 mb-1"
                     :class="{'px-0': isMobile}">
                    <label class="col-form-label search__label">Дата размещения</label>
                    <date-input v-model="publishDate"
                                placeholder="Выберите дату публикации"
                                :config="configs.date" />
                </div>
                <div class="col-12 col-md-6 px-md-1 mb-1"
                     :class="{'px-0': isMobile}">
                    <label class="col-form-label search__label">
                        <span>Активной аудитории</span>
                    </label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">от</span>
                        </div>
                        <input v-model="filter.erFrom"
                               type="number"
                               min="0"
                               class="form-control form-control-prepend">
                        <div class="input-group-prepend">
                            <span class="input-group-text">до</span>
                        </div>
                        <input v-model="filter.erTo"
                               type="number"
                               min="0"
                               class="form-control"> </div>
                </div>
                <div class="col-12 col-md-6 pr-md-1 mb-1"
                     :class="{'px-0': isMobile}">
                    <label class="col-form-label search__label">Условия</label>
                    <search-input v-model="filterConditions"
                                  placeholder="Выберите условия"
                                  :options="conditions" />
                </div>
            </div>
        </div>
    </transition>
    <channel-list :filter="filter"
                  :small-body="showFilters"
                  :user="user"
                  :channels="channels" />
</div>