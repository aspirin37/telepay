<div class="container py-3">
    <div class="d-flex flex-row align-items-baseline">
        <h1>Техподдержка</h1>
        <router-link class="btn btn-primary ml-auto" :to="{ name: 'support:create'}">Новый вопрос</router-link>
    </div>
    <div class="flex-table my-4">
        <div class="header-row">
            <div class="col">
                Номер
            </div>
            <div class="col pointer" @click="isDateReversed = !isDateReversed">
                Дата
                <i :class="[isDateReversed ? 'fa-angle-up' : 'fa-angle-down', 'fa fa-lg']"></i>
            </div>
            <div class="col">
                Тема
            </div>
            <div class="col">
                <span>Статус</span>
            </div>
            <div class="col text-center">
                Кол-во сообщений
            </div>
        </div>
        <div class="body-row" v-for="(ticket, i) in ticketsList" :key="i">
            <div class="col">
                {{ ticket.humanReadableNumber }}
            </div>
            <div class="col">
                {{ ticket.date }}
            </div>
            <div class="col">
                {{ ticket.topic }}
            </div>
            <div class="col">
                <i :class="ticket.statusClass"></i>
                {{ ticket.statusName }}
            </div>
            <div class="col text-center">
                <router-link class="text-primary" :to="{name:'support:create', query:{ticketId: ticket.ticketId}}">
                    <u>{{ ticket.messages.length }}</u>
                </router-link>
            </div>
        </div>
    </div>
</div>